<!DOCTYPE html>
<!--
-->
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <title>Component Store</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="stylesheet/style.css"/>
</head>

<body>
<div id="app">
  <div id="sidebar" class="sidebar">
    <header>
      <router-link id="homelogo" to="/">
        <img src="image/logo.png" alt="Home Logo">
      </router-link>

      <!--      <label>-->
      <!--         <input type="text" placeholder="Search bar">-->
      <!--      </label>-->
    </header>

    <div id="navigation">
      <!--      <div id="addressbar">-->
      <!--        <ul class="breadcrumb">-->
      <!--          <li><a href="index.html">Home</a></li>-->
      <!--          <li><a href="#">Link-1</a></li>-->
      <!--        </ul>-->
      <!--      </div>-->

      <nav id="nav1">
        <!--      <a href="index.html" class="active">Home</a>-->
        <!-- `<router-link>` will be rendered as an `<a>` tag by default -->

        <router-link to="/p">Products</router-link>

      </nav>

      <nav id="nav2">
        <router-link to="/sr">Software Releases</router-link>
      </nav>

      <nav id="nav3">
        <router-link to="/c">Components</router-link>


        <router-link to="/foo">Go to Foo</router-link>
        <router-link to="/bar">Go to Bar</router-link>
        <router-link to="/page1">Go to Page1</router-link>
        <router-link to="/page2">Go to Page2</router-link>


      </nav>
    </div>

    <!--    <footer></footer>-->
  </div>


  <div id="content" class="content">
    <main id="main">

      <!-- route outlet. component matched by the route will render here -->
      <router-view :key="$route.fullPath"></router-view>


    </main>
    <aside class="aside"></aside>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<!-- development ^, production v -->
<!--<script src="https://cdn.jsdelivr.net/npm/vue@2.6.10"></script>-->

<script src="https://unpkg.com/vue-router/dist/vue-router.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>


<script type="text/x-template" id="table-grid-template">
  <table>
    <thead>
    <tr>
      <th v-for="key in columns"
          @click="sortBy(key)"
          :class="{ active: sortKey === key }">
        {{ key | capitalize }}
        <span class="arrow" :class="sortOrders[key] > 0 ? 'asc' : 'dsc'">
          </span>
      </th>
      <th v-if="cVerCol">Versions</th>
      <th v-if="cSrCol">Software Releases</th>
      <th v-if="selectCol">Select</th>
      <!--      {{selected_row}}-->
    </tr>
    </thead>
    <tbody>
    <tr v-for="entry in filteredRows">
      <td v-for="key in columns">
        {{entry[key]}}
      </td>
      <td v-if="cVerCol">
        <router-link v-bind:to="'/c/' + entry.name">Versions</router-link>
      </td>
      <td v-if="cSrCol">
        <router-link v-bind:to="'/c/' + $route.params.name + '/' + entry.version">Software Releases</router-link>
      </td>
      <td v-if="selectCol"><label> <input type="radio"
                                          v-bind:value="entry"
                                          v-model="selected_row"
                                          v-on:change="$emit('input', selected_row)"
      > </label></td>
    </tr>
    </tbody>
  </table>
</script>

<script type="text/x-template" id="home-template">
  <div>
    <h1>Software Component Store and Release Assembly Tools</h1>
  </div>
</script>
<script type="text/x-template" id="products-template">
  <div>
    <h1>Products</h1>
    <hr/>
    <label><input v-model="product_name" placeholder="Product Name"></label>
    <button v-on:click="pnew">Create Product</button>
    <button v-on:click="pdelete">Delete Product</button>
    <span>{{ this.product_name_response.name }}</span>

    <hr/>
    <h2>Selected: [ {{product_edit}} ]</h2>
    <label>
      <select v-model="product_field">
        <option v-for="option in gridColumns" v-bind:value="option">
          {{ option }}
        </option>
      </select>
    </label>
    <label><input v-model="product_value" placeholder="New Value"> </label>

    <button v-on:click="pedit">Edit Product</button>
    <span>{{ product_edit_response.name }}</span>
    <hr/>
    <br/>

    <label><input name="query" v-model="searchQuery" placeholder="Search Filter"> </label>
    <table-grid
        :rows="gridData"
        :columns="gridColumns"
        :filter-key="searchQuery"
        :select-col="true"
        v-model="selectedRow"
    ></table-grid>

  </div>
</script>
<script type="text/x-template" id="software-releases-template">
  <div>
    <hr/>
    <h1>Products</h1>
    <hr/>
    <label><input v-model="product_name" placeholder="Product Name"></label>
    <button v-on:click="pnew">Create Product</button>
    <button v-on:click="pdelete">Delete Product</button>
    <span>{{ this.product_name_response.name }}</span>

    <hr/>
    <h2>Selected: [ {{product_edit}} ]</h2>
    <label>
      <select v-model="product_field">
        <option v-for="option in gridColumns" v-bind:value="option">
          {{ option }}
        </option>
      </select>
    </label>
    <label><input v-model="product_value" placeholder="New Value"> </label>

    <button v-on:click="pedit">Edit Product</button>
    <span>{{ product_edit_response.name }}</span>
    <hr/>
    <br/>

    <label><input name="query" v-model="searchQuery" placeholder="Search Filter"> </label>
    <table-grid
        :rows="gridData"
        :columns="gridColumns"
        :filter-key="searchQuery"
        :select-col="true"
        v-model="selectedRow"
    ></table-grid>

    <hr/>
    <form id="search">
      Search <input name="query" v-model="searchQuery">
    </form>
    <table-grid
        :rows="gridData"
        :columns="gridColumns"
        :filter-key="searchQuery"
        v-model="selectedRow"
    ></table-grid>
    <h4> received: {{ selectedRow }}</h4>
    <h4> received: {{ selectedRow.name }}</h4>
  </div>
</script>
<script type="text/x-template" id="srversion-template"></script>

<script type="text/x-template" id="components-template">
  <div>
    <h1>Components</h1>
    <h3>Component and Newest Version</h3>
    <label><input name="query" v-model="searchQuery" placeholder="Search Filter"> </label>
    <table-grid
        :rows="gridData"
        :columns="gridColumns"
        :filter-key="searchQuery"
        :c-ver-col="true"
    ></table-grid>

    <!--    <h3 v-for="component in component_highest">
          name: {{ component.name }}, Version: {{component.version}}
          <router-link v-bind:to="'/c/' + component.name">More Versions</router-link>
        </h3>-->

  </div>
</script>
<script type="text/x-template" id="component-version-template">
  <div>
    <h1>Component Versions</h1>
    <h3>Component Name: {{ $route.params.name }}</h3>
    <label><input name="query" v-model="searchQuery" placeholder="Search Filter"> </label>
    <table-grid
        :rows="gridData"
        :columns="gridColumns"
        :filter-key="searchQuery"
        :c-sr-col="true"
    ></table-grid>

    <!--    <hr/>
        Component versions = {{component_versions }}
        <h3 v-for="component_version in component_versions">
          Version: {{component_version}}
          <router-link v-bind:to="'/c/' + $route.params.name + '/' + component_version">Associated SR</router-link>
        </h3>-->
  </div>
</script>
<script type="text/x-template" id="component-sr-template">
  <div>
    <h1>Component Versions</h1>
    <h3>Component Name: {{ $route.params.name }}</h3>
    <h3>Component Version: {{ $route.params.version }}</h3>

    <!-- sr list from sr -->
    <table-grid
        :rows="gridData"
        :columns="gridColumns"
        :filter-key="searchQuery"
        :c-srlist-col="true"
    ></table-grid>

    <hr/>
    raw data = {{srlist }}
    <h3 v-for="sr in srlist">
      Product name: {{ sr.product_name }}
      Version number: {{ sr.version_number}}
      <router-link v-bind:to="'/sr/' + sr.product_name + '/' + sr.version_number">Associated SR</router-link>
    </h3>
  </div>

</script>
<script type="text/x-template" id="foo-template">
  <div>
    <span>message1: {{ message1 }}</span>
    <hr/>
    <span>message2: {{ message2 }}</span>
    <hr/>
  </div>
</script>
<script type="text/x-template" id="bar-template"></script>
<script type="text/x-template" id="page1-template">
  <div>
    <section>
      <h1>Section heading</h1>
      <hr/>
      <button v-on:click="post5">Post5 Button</button>
      <span>data1 is : {{data1}}</span>

      <button v-on:click="func1">Func1 Button</button>
      <span>data1 is : {{data1}}</span>

      <hr/>

      <button type="button" onclick="">Test Button 1</button>
      <button type="button" onclick="">Test Button 2</button>
      <button type="button" onclick="">Test Button 3</button>
      <button type="button" onclick="">Test Button 4</button>
      <button type="button" onclick=f5()>Test Button 5</button>
      <button type="button" onclick=f6()>Test Button 6</button>
      <button type="button" onclick=f7()>Test Button 7</button>

      <div id="id1">1</div>
      <div id="id2">2</div>
      <div id="id3">3</div>
      <div id="id4">4</div>
      <div id="id5">5</div>
      <div id="id6">6</div>

      <br/>

    </section>

    <section>
      <h1>Vue App</h1>
      <ul>
        <li v-for="product in products">
          {{ product }}
          {{ product.name }}
          {{ product.property}}
          {{ message }}
        </li>
      </ul>


      <label>
        <input type="text" v-model="message">
        {{ message }}
      </label>


      Component changes
      <ul>
        <li v-for="component_name in component_names">
          {{ component_name }}
        </li>
      </ul>
      {{ component_names }}

      force reload CTRL click

      <h1 v-if="true">true</h1>
      <h1 v-else>false</h1>


    </section>

    <section>
      <h1>HTML form input</h1>
      <form action="http://127.0.0.1:5000/6" method="post">
        <label>
          <input type="text" name="name1" value="v1">
          <input type="text" name="name2" value="v2">
          <input type="text" name="name3" value="v3">
          <input type="submit" value="Submit">
        </label>
      </form>

      <form onsubmit="f1()">
        <label for="text1">text1 label</label>
        <input type="text" id="text1">
      </form>

    </section>

    <button-counter></button-counter>

    <hr/>

    <input type="radio" id="one" value="One" v-model="picked">
    <label for="one">One</label>
    <br>
    <input type="radio" id="two" value="Two" v-model="picked">
    <label for="two">Two</label>
    <br>
    <span>Picked: {{ picked }}</span>
    <hr/>


    <router-link v-bind:to="'/page2/para1/para2' + data1">Go to Page2</router-link>


  </div>
</script>
<script type="text/x-template" id="page2-template">
  <div>
    <button v-on:click="say('hi')">Say hi</button>
    <p>data222: {{ data222 }}</p>
    <p>data1: {{ data1 }}</p>
    <p>component_name: {{ component_name }}</p>
    <div>$route.params.id = {{ $route.params.id }}</div>
    <div>$route.params.ver = {{ $route.params.ver }}</div>
    <div>id : {{ id }}</div>
    <div>ver : {{ ver }}</div>
  </div>
</script>

<!--
<script type="text/x-template" id="-template"></script>

Must load templates before index.js
-->

<script src="javascript/index.js"></script>
<script src="javascript/experiment.js"></script>

</body>
</html>